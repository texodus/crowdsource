!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["perspective-view"]=e():t["perspective-view"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=46)}([function(t,e,n){var r=n(33)("wks"),i=n(34),o=n(1).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(7);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(11),i=n(30);t.exports=n(8)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var r=n(1),i=n(2),o=n(9),s=n(4),a=function(t,e,n){var c,u,l,f=t&a.F,p=t&a.G,h=t&a.S,d=t&a.P,v=t&a.B,g=t&a.W,m=p?i:i[e]||(i[e]={}),_=m.prototype,y=p?r:h?r[e]:(r[e]||{}).prototype;p&&(n=e);for(c in n)(u=!f&&y&&void 0!==y[c])&&c in m||(l=u?y[c]:n[c],m[c]=p&&"function"!=typeof y[c]?n[c]:v&&u?o(l,r):g&&y[c]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):d&&"function"==typeof l?o(Function.call,l):l,d&&((m.virtual||(m.virtual={}))[c]=l,t&a.R&&_&&!_[c]&&s(_,c,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(29)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(10);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(3),i=n(53),o=n(54),s=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){t.exports={default:n(50),__esModule:!0}},function(t,e,n){"use strict";var r=n(52)(!0);n(27)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(7),i=n(1).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(60),i=n(17);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(33)("keys"),i=n(34);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(11).f,i=n(12),o=n(0)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(65);for(var r=n(1),i=n(4),o=n(5),s=n(0)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=r[u],f=l&&l.prototype;f&&!f[s]&&i(f,s,u),o[u]=o.Array}},function(t,e,n){var r=n(13),i=n(0)("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=s(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=i(e),this.reject=i(n)}var i=n(10);t.exports.f=function(t){return new r(t)}},function(t,e,n){"use strict";function r(){if("undefined"==typeof window)return!1;var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}function i(){var t=window.chrome,e=window.navigator,n=e.vendor,r=e.userAgent.indexOf("OPR")>-1,i=e.userAgent.indexOf("Edge")>-1;return!!e.userAgent.match("CriOS")||null!==t&&void 0!==t&&"Google Inc."===n&&!1===r&&!1===i}function o(){var t;try{throw new Error}catch(i){var e=i.stack.split("\n"),n=0;for(var r in e)if(e[r].match(/http[s]?:\/\//)){n=Number(r);break}t=e[n].match(/((http[s]?:\/\/.+\/)([^\/]+\.(js|html))):/)}this.fullPath=function(){return t[1]},this.path=function(){return t[2]},this.host=function(){return this.path().match(/.+?\/\/.+?\//)[0]},this.file=function(){return t[3]}}function s(t){var e=document.createElement("div");return e.innerHTML=t,Array.prototype.slice.call(e.children)[0]}function a(t,e){e.attributeChangedCallback={value:function(t,e,n){"_"!==t[0]&&(this[t]=n)}},t=s(t);var n=e.attachedCallback;for(var r in e)!function(t){if(e[t].set){var n=e[t].set;e[t].set=function(e){if(this.getAttribute(t)!==e)return void this.setAttribute(t,e);this._initialized&&n.bind(this)(e)}}}(r);e.attachedCallback={value:function(){if(!this._initialized){for(this._initialized=!0,this._old_children=[];this.hasChildNodes();)1===this.lastChild.nodeType&&this._old_children.push(this.lastChild),this.removeChild(this.lastChild);this._old_children=this._old_children.reverse();var r=document.importNode(t.content,!0);this.appendChild(r),n.value.bind(this)();for(var i in e)"attachedCallback"!==i&&this.getAttribute(i)&&"_"!==i[0]&&(this[i]=this.getAttribute(i))}}};var i=t.getAttribute("id");console.log("Registered "+i),document.registerElement(i,{prototype:(0,u.default)(HTMLElement.prototype,e)})}Object.defineProperty(e,"__esModule",{value:!0});var c=n(91),u=function(t){return t&&t.__esModule?t:{default:t}}(c);e.detectIE=r,e.detectChrome=i,e.ScriptPath=o,e.importTemplate=s,e.registerElement=a},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(28),i=n(6),o=n(55),s=n(4),a=n(12),c=n(5),u=n(56),l=n(21),f=n(63),p=n(0)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,v,g,m,_){u(n,e,v);var y,w,b,x=function(t){if(!h&&t in k)return k[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},A=e+" Iterator",E="values"==g,L=!1,k=t.prototype,O=k[p]||k["@@iterator"]||g&&k[g],S=!h&&O||x(g),T=g?E?x("entries"):S:void 0,j="Array"==e?k.entries||O:O;if(j&&(b=f(j.call(new t)))!==Object.prototype&&b.next&&(l(b,A,!0),r||a(b,p)||s(b,p,d)),E&&O&&"values"!==O.name&&(L=!0,S=function(){return O.call(this)}),r&&!_||!h&&!L&&k[p]||s(k,p,S),c[e]=S,c[A]=d,g)if(y={values:E?S:x("values"),keys:m?S:x("keys"),entries:T},_)for(w in y)w in k||o(k,w,y[w]);else i(i.P+i.F*(h||L),e,y);return y}},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(3),i=n(57),o=n(35),s=n(20)("IE_PROTO"),a=function(){},c=function(){var t,e=n(18)("iframe"),r=o.length;for(e.style.display="none",n(36).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=c(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(16),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e,n){var r=n(1),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(1).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(23),i=n(0)("iterator"),o=n(5);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(3),i=n(10),o=n(0)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||void 0==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(9),a=n(73),c=n(36),u=n(18),l=n(1),f=l.process,p=l.setImmediate,h=l.clearImmediate,d=l.MessageChannel,v=l.Dispatch,g=0,m={},_=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},y=function(t){_.call(t.data)};p&&h||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},h=function(t){delete m[t]},"process"==n(13)(f)?r=function(t){f.nextTick(s(_,t,1))}:v&&v.now?r=function(t){v.now(s(_,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=y,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),t.exports={set:p,clear:h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(3),i=n(7),o=n(24);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){t.exports={default:n(84),__esModule:!0}},function(t,e,n){"use strict";function r(t,e){return function(){var n=Array.prototype.slice.call(arguments,0,arguments.length);return new u.default(function(r){this._worker.handlers[++this._worker.msg_id]=r;var i={id:this._worker.msg_id,cmd:e||"view_method",name:this._name,method:t,args:n,subscribe:!1};this._worker.initialized.value?this._worker.postMessage(i):this._worker.messages.push(i)}.bind(this))}}function i(t,e,n){this._worker=e,this._config=n,this._name=Math.random()+"";var r={cmd:"view",view_name:this._name,table_name:t,config:n};this._worker.initialized.value?this._worker.postMessage(r):this._worker.messages.push(r)}function o(t,e,n){this._name=Math.random()+"",this._worker=t;var r={cmd:"table",name:this._name,data:e,options:n};this._worker.initialized.value?this._worker.postMessage(r):this._worker.messages.push(r)}function s(t,e,n){var r=new XMLHttpRequest;r.addEventListener("load",function(){var t=new Blob([this.responseText]),r=window.URL.createObjectURL(t),i=new Worker(r);e&&e.call(n,i)},r),r.open("get",t,!0),r.send()}function a(){this._worker={initialized:{value:!1},msg_id:0,handlers:{},messages:[]},window.location.href.indexOf(p.host())>-1?this._start_same_origin():this._start_cross_origin()}var c=n(14),u=function(t){return t&&t.__esModule?t:{default:t}}(c),l=n(25),f=n(94),p=new l.ScriptPath;(0,l.detectIE)()&&-1===window.location.href.indexOf(p.host())&&(console.warn("Perspective does not support parallel mode in IE when loading cross-origin.  Falling back to single-process mode ..."),function(t,e){e=t.createElement("script"),e.type="text/javascript",e.async=!0,e.src=p.path()+"asmjs/perspective.js",t.getElementsByTagName("head")[0].appendChild(e)}(document)),i.prototype.to_json=r("to_json"),i.prototype.schema=r("schema"),i.prototype.num_columns=r("num_columns"),i.prototype.num_rows=r("num_rows"),i.prototype.delete=r("delete"),i.prototype.on_update=function(t,e){return function(){var n=arguments[arguments.length-1],r=Array.prototype.slice.call(arguments,0,arguments.length-1);n.keep_alive=!0,this._worker.handlers[++this._worker.msg_id]=n;var i={id:this._worker.msg_id,cmd:e||"view_method",name:this._name,method:t,args:r,subscribe:!0};this._worker.initialized.value?this._worker.postMessage(i):this._worker.messages.push(i)}}("on_update","view_method"),o.prototype.view=function(t){return new i(this._name,this._worker,t)},o.prototype.schema=r("schema","table_method"),o.prototype.size=r("size","table_method"),o.prototype.update=r("update","table_method"),o.prototype.columns=r("columns","table_method"),o.prototype.execute=function(t){var e={cmd:"table_execute",name:this._name,f:t.toString()};this._worker.initialized.value?this._worker.postMessage(e):this._worker.messages.push(e)},a.prototype._start_cross_origin=function(){var t="undefined"==typeof WebAssembly?"asmjs":"wasm_async";s(p.path()+t+"/perspective.js",function(t){for(var e in this._worker)t[e]=this._worker[e];this._worker.postMessage=t.postMessage.bind(t),this._worker.terminate=t.terminate.bind(t),this._worker=t,this._worker.addEventListener("message",this._handle.bind(this)),"undefined"==typeof WebAssembly?this._start_cross_origin_asmjs():this._start_cross_origin_wasm()},this)},a.prototype._start_cross_origin_asmjs=function(){this._worker.postMessage({cmd:"init",path:p.path()})},a.prototype._start_cross_origin_wasm=function(){var t=new XMLHttpRequest;t.open("GET",p.path()+"wasm_async/psp.wasm",!0),t.responseType="arraybuffer",t.onload=function(){this._worker.postMessage({cmd:"init",data:t.response,path:p.path()})}.bind(this),t.send(null)},a.prototype._start_same_origin=function(){var t="undefined"==typeof WebAssembly?"asmjs":"wasm_async",e=new Worker(p.path()+t+"/perspective.js");for(var n in this._worker)e[n]=this._worker[n];this._worker=e,this._worker.addEventListener("message",this._handle.bind(this)),this._worker.postMessage({cmd:"init",path:p.path()})},a.prototype._handle=function(e){if(!this._worker.initialized.value){if(!t.exports._initialized){var n=document.createEvent("Event");n.initEvent("perspective-ready",!1,!0),window.dispatchEvent(n),t.exports._initialized=!0}for(var r in this._worker.messages)this._worker.messages.hasOwnProperty(r)&&this._worker.postMessage(this._worker.messages[r]);this._worker.initialized.value=!0,this._worker.messages=[]}if(e.data.id){var i=this._worker.handlers[e.data.id];i&&(i(e.data.data),i.keep_alive||delete this._worker.handlers[e.data.id])}},a.prototype.table=function(t,e){return new o(this._worker,t,e)},a.prototype.terminate=function(){this._worker.terminate(),this._worker=void 0},t.exports={worker:function(){return-1===window.location.href.indexOf(p.host())&&(0,l.detectIE)()?perspective:new a},TYPE_AGGREGATES:f.TYPE_AGGREGATES,AGGREGATE_DEFAULTS:f.AGGREGATE_DEFAULTS}},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=d[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],e))}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(l(r.parts[o],e));d[r.id]={id:r.id,refs:1,parts:s}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a=o[1],c=o[2],u=o[3],l={css:a,media:c,sourceMap:u};r[s]?r[s].parts.push(l):n.push(r[s]={id:s,parts:[l]})}return n}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function a(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),o(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function l(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=_++;n=m||(m=a(e)),r=f.bind(null,n,u,!1),i=f.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),r=h.bind(null,n,e),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(e),r=p.bind(null,n),i=function(){s(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function f(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function p(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var d={},v=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}(function(t){return document.querySelector(t)}),m=null,_=0,y=[],w=n(98);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=v()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var o=[],s=0;s<n.length;s++){var a=n[s],c=d[a.id];c.refs--,o.push(c)}if(t){r(i(t,e),e)}for(var s=0;s<o.length;s++){var c=o[s];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete d[c.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=t.target.parentElement;if(e){var n=e.parentElement.parentElement,r=Array.prototype.slice.call(n.children).indexOf(e),i=n.getAttribute("id").replace("_","-"),o=JSON.parse(this.getAttribute(i));o.splice(r,1),this.setAttribute(i,(0,w.default)(o)),this._update()}}function i(t){t.preventDefault(),t.currentTarget.classList.remove("dropping");var e=t.dataTransfer.getData("text");if(e){var n=t.currentTarget.getAttribute("id").replace("_","-"),r=JSON.parse(this.getAttribute(n)||"[]"),i=r.indexOf(e);-1!==i&&r.splice(i,1),this.setAttribute(n,(0,w.default)(r.concat([e])));if("toggle"===this._plugin.selectMode&&this._visible_column_count()>1&&"sort"!==n)for(var o=this.querySelectorAll("#column_names perspective-row"),s=Array.isArray(o),a=0,o=s?o:(0,_.default)(o);;){var c;if(s){if(a>=o.length)break;c=o[a++]}else{if(a=o.next(),a.done)break;c=a.value}var u=c;u.getAttribute("name")===e&&(u.className="off")}this._update()}}function o(t){var e="select"===this._plugin.selectMode,n=e&&!t.detail.shiftKey||!e&&t.detail.shiftKey,r="visible_"+(this._visible_column_count()+1),i=t.currentTarget;if(n){for(var o=this.querySelectorAll("#column_names perspective-row"),s=Array.isArray(o),a=0,o=s?o:(0,_.default)(o);;){var u;if(s){if(a>=o.length)break;u=o[a++]}else{if(a=o.next(),a.done)break;u=a.value}u.className="off"}i.classList.remove("off"),0===i.classList.length&&i.classList.add(r)}else i.classList.contains("off")?(i.classList.remove("off"),0===i.classList.length&&i.classList.add(r)):i.className="off";var l=this._view_columns("#column_names perspective-row:not(.off)");this.setAttribute("columns",(0,w.default)(l)),c.call(this)}function s(){this.setAttribute("aggregates",(0,w.default)(this._get_view_aggregates())),c.call(this)}function a(t){this.worker=M;try{t=t.trim()}catch(t){}var e={};this.getAttribute("index")&&(e.index=this.getAttribute("index"));var n=void 0;n=t.hasOwnProperty("_name")?t:this.worker.table(t,e),b.call(this,n);for(var r=this.slaves,i=Array.isArray(r),o=0,r=i?r:(0,_.default)(r);;){var s;if(i){if(o>=r.length)break;s=r[o++]}else{if(o=r.next(),o.done)break;s=o.value}var a=s;b.call(a,n)}}function c(){var t=this,e=this._view_columns("#row_pivots perspective-row:not(.off)"),n=this._view_columns("#column_pivots perspective-row:not(.off)"),r=JSON.parse(this.getAttribute("filters")),i=this._get_view_aggregates();0===e.length&&n.length>0&&(e=n,n=[]);for(var o=[],s=this._view_columns("#sort perspective-row:not(.off)"),a=s,c=Array.isArray(a),u=0,a=c?a:(0,_.default)(a);;){var l;if("break"===function(){if(c){if(u>=a.length)return"break";l=a[u++]}else{if(u=a.next(),u.done)return"break";l=u.value}var e=l;if(-1===i.map(function(t){return t.column}).indexOf(e)){var n=t._get_view_aggregates("#column_names perspective-row");i.push(n.reduce(function(t,n){return n.column===e?n:t})),o.push(e)}}())break}this._view&&this._view.delete(),this._view=this._table.view({filter:r,row_pivot:e,column_pivot:n,aggregate:i,sort:s}),this._view.on_update(function(){if(!t._debounced){var e=document.getElementsByTagName("perspective-viewer").length,n=t.getAttribute("render_time")*e*2;n=Math.min(1e4,Math.max(0,n)),t._debounced=setTimeout(function(){t._debounced=void 0,t._plugin.create.call(t,t._datavis,t._view,o,!1)},n||0)}}),this._drop_target.style.display="none",this._plugin.create.call(this,this._datavis,this._view,o,!0)}var u=n(47),l=e(u),f=n(14),p=e(f),h=n(80),d=e(h),v=n(86),g=e(v),m=n(42),_=e(m),y=n(87),w=e(y),b=function(){var t=(0,g.default)(l.default.mark(function t(e){var n,r,i,a,u,f,h,v,g,m,y,b,x=this;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._view&&this._view.delete(),this._table&&this._table.delete(),this._table=e,this._column_names.innerHTML="",t.next=6,p.default.all([e.columns(),e.schema()]);case 6:n=t.sent,r=(0,d.default)(n,2),i=r[0],a=r[1],this.hasAttribute("columns")||this.setAttribute("columns",(0,w.default)(i)),u=[],u=this.hasAttribute("aggregates")?JSON.parse(this.getAttribute("aggregates")).map(function(t){var e=a[t.column];return""!==t.op&&-1!==k.default.TYPE_AGGREGATES[e].indexOf(t.op)||(t.op=k.default.AGGREGATE_DEFAULTS[e]),t}):i.map(function(t){return{column:t,op:k.default.AGGREGATE_DEFAULTS[a[t]]}}),this.setAttribute("aggregates",(0,w.default)(u)),f=JSON.parse(this.getAttribute("columns")),h=function(){if(g){if(m>=v.length)return"break";y=v[m++]}else{if(m=v.next(),m.done)return"break";y=m.value}var t=y,e=u.filter(function(e){return e.column===t}).map(function(t){return t.op})[0],n=document.createElement("perspective-row");n.setAttribute("type",a[t]),n.setAttribute("name",t),e&&n.setAttribute("aggregate",e),n.addEventListener("visibility-clicked",o.bind(x)),n.addEventListener("aggregate-selected",s.bind(x)),n.addEventListener("row-drag",function(){return x.classList.add("dragging")}),n.addEventListener("row-dragend",function(){return x.classList.remove("dragging")}),-1===f.indexOf(t)?n.className="off":n.className="visible_"+(f.indexOf(t)+1),x._column_names.appendChild(n)},v=i,g=Array.isArray(v),m=0,v=g?v:(0,_.default)(v);case 17:if("break"!==(b=h())){t.next=20;break}return t.abrupt("break",22);case 20:t.next=17;break;case 22:this._filter_input.innerHTML="",c.call(this);case 24:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),x=n(89),A=e(x),E=n(90),L=n(43),k=e(L),O=n(25),S=n(95),T=e(S);n(96),n(99),(0,E.polyfill)({});var j={};t.registerPlugin=function(t,e){j[t]=e};var M=k.default.worker();(0,O.registerElement)(T.default,{notifyResize:{value:function(){!document.hidden&&this.offsetParent&&document.contains(this)&&this._plugin.resize.call(this)}},_plugin:{get:function(){return j[this._vis_selector.value]}},_toggle_config:{value:function(){this._show_config?(this._side_panel.style.display="none",this._top_panel.style.display="none",this.removeAttribute("settings")):(this._side_panel.style.display="flex",this._top_panel.style.display="flex",this.setAttribute("settings",!0)),this._show_config=!this._show_config,this._plugin.resize.call(this,!0)}},message:{set:function(t){this._inner_drop_target&&(this._inner_drop_target.innerHTML=t)}},load:{value:function(t){this._inner_drop_target.innerHTML="<h3>Loading ...</h3>";for(var e=this.slaves,n=Array.isArray(e),r=0,e=n?e:(0,_.default)(e);;){var i;if(n){if(r>=e.length)break;i=e[r++]}else{if(r=e.next(),r.done)break;i=r.value}i._inner_drop_target.innerHTML="<h3>Loading ...</h3>"}a.bind(this)(t)}},update:{value:function(t){this._table.update(t)}},_get_view_filters:{value:function(){for(var t=this._filter_input.value.trim(),e=this._view_columns("#column_names perspective-row"),n=e,r=Array.isArray(n),i=0,n=r?n:(0,_.default)(n);;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if(i=n.next(),i.done)break;o=i.value}var s=o;t=t.split("`"+s.trim()+"`").join(s+"||||")}try{for(var a=t.split("&"),c=[],u=a,l=Array.isArray(u),f=0,u=l?u:(0,_.default)(u);;){var p;if(l){if(f>=u.length)break;p=u[f++]}else{if(f=u.next(),f.done)break;p=f.value}var h=p;h=h.split("||||");var d=h[0].trim();h=h[1].trim().split(" ");var v=h[0],g=h.slice(1).join(" ").trim(),m=parseFloat(g);if(isNaN(m)||(g=m),!d||!v||!g&&0!==g)return this._filter_input.classList.add("error"),[];c.push([d,v,g])}return this._filter_input.classList.remove("error"),c}catch(t){return this._filter_input.classList.add("error"),[]}}},_get_view_aggregates:{value:function(t){return t=t||"#column_names perspective-row:not(.off)",this._view_columns(t,!0)}},_view_columns:{value:function(t,e){var n=this.querySelectorAll(t);return Array.prototype.slice.call(n).sort(function(t,e){return""===t.className?0:t.className===e.className?0:t.className<e.className?-1:1}).map(function(t){var n=t.getAttribute("name");return e?{op:t.getAttribute("aggregate"),column:n}:n})}},_visible_column_count:{value:function(){var t=Array.prototype.slice.call(this.querySelectorAll("#column_names perspective-row")),e=Array.prototype.slice.call(this.querySelectorAll("#column_names perspective-row.off"));return t.length-e.length}},_update_column_view:{value:function(t){Array.prototype.slice.call(this.querySelectorAll("#column_names perspective-row")).map(function(e){var n=t.indexOf(e.getAttribute("name"));e.className=-1===n?"off":"visible_"+(n+1)})}},columns:{set:function(){var t=JSON.parse(this.getAttribute("columns"));this._update_column_view(t),this.dispatchEvent(new Event("config-update"))}},aggregates:{set:function(){var t=JSON.parse(this.getAttribute("aggregates")),e=Array.prototype.slice.call(this.querySelectorAll("#column_names perspective-row"));this._visible_column_count();e.map(function(e,n){var r=t[e.getAttribute("name")];r&&e.setAttribute("aggregate",r)}),this.dispatchEvent(new Event("config-update"))}},filters:{set:function(){var t=JSON.parse(this.getAttribute("filters"));t.length>0&&(this._filter_input.value=t.map(function(t){return"`"+t[0]+"` "+t[1]+" "+t[2]}).join(" & ")),this.dispatchEvent(new Event("config-update"))}},view:{set:function(){this._vis_selector.value=this.getAttribute("view");var t=Array.prototype.slice.call(this.querySelectorAll("#column_names perspective-row"));t.length>0&&("select"===this._plugin.selectMode?this.setAttribute("columns",(0,w.default)([t[0].getAttribute("name")])):this.setAttribute("columns",(0,w.default)(t.map(function(t){return t.getAttribute("name")})))),this.dispatchEvent(new Event("config-update"))}},"column-pivots":{set:function(){var t=JSON.parse(this.getAttribute("column-pivots"));if(this._column_pivots.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._column_pivots.getAttribute("name"),this._column_pivots.appendChild(e)}else t.map(function(t){var e=this,n=document.createElement("perspective-row");n.setAttribute("name",t),n.addEventListener("row-drag",function(){return e.classList.add("dragging")}),n.addEventListener("row-dragend",function(){return e.classList.remove("dragging")}),this._column_pivots.appendChild(n)}.bind(this));this.dispatchEvent(new Event("config-update"))}},"row-pivots":{set:function(){var t=JSON.parse(this.getAttribute("row-pivots"));if(this._row_pivots.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._row_pivots.getAttribute("name"),this._row_pivots.appendChild(e)}else t.map(function(t){var e=this,n=document.createElement("perspective-row");n.setAttribute("name",t),n.addEventListener("row-drag",function(){return e.classList.add("dragging")}),n.addEventListener("row-dragend",function(){return e.classList.remove("dragging")}),this._row_pivots.appendChild(n)}.bind(this));this.dispatchEvent(new Event("config-update"))}},copy:{value:function(t){t.hasAttribute("index")&&this.setAttribute("index",t.getAttribute("index")),t.slaves.push(this),this._inner_drop_target&&(this._inner_drop_target.innerHTML=t._inner_drop_target.innerHTML+"<h3>*</h3>"),t._table&&b.call(this,t._table)}},sort:{set:function(){var t=JSON.parse(this.getAttribute("sort"));if(this._sort.innerHTML="",0===t.length){var e=document.createElement("label");e.innerHTML=this._sort.getAttribute("name"),this._sort.appendChild(e)}else t.map(function(t){var e=this,n=document.createElement("perspective-row");n.setAttribute("name",t),n.addEventListener("row-drag",function(){return e.classList.add("dragging")}),n.addEventListener("row-dragend",function(){return e.classList.remove("dragging")}),this._sort.appendChild(n)}.bind(this));this.dispatchEvent(new Event("config-update"))}},delete:{value:function(){this._view&&this._view.delete(),this._table&&this._table.delete(),this._plugin.delete&&this._plugin.delete.call(this)}},save:{value:function(){for(var t={},e=0;e<this.attributes.length;e++){var n=this.attributes[e];-1===["id"].indexOf(n.name)&&(t[n.name]=n.value)}return t}},restore:{value:function(t){for(var e in t)this.setAttribute(e,t[e])}},attachedCallback:{value:function(){var t=this;this._update=A.default.throttle(c.bind(this),10),this.slaves=[],this._aggregate_selector=this.querySelector("#aggregate_selector"),this._vis_selector=this.querySelector("#vis_selector"),this._filter_input=this.querySelector("#filter_input"),this._row_pivots=this.querySelector("#row_pivots"),this._column_pivots=this.querySelector("#column_pivots"),this._datavis=this.querySelector("#pivot_chart"),this._column_names=this.querySelector("#column_names"),this._inner_drop_target=this.querySelector("#drop_target_inner"),this._drop_target=this.querySelector("#drop_target"),this._config_button=this.querySelector("#config_button"),this._side_panel=this.querySelector("#side_panel"),this._top_panel=this.querySelector("#top_panel"),this._sort=this.querySelector("#sort"),this._sort.addEventListener("drop",i.bind(this)),this._sort.addEventListener("dragend",r.bind(this)),this._row_pivots.addEventListener("drop",i.bind(this)),this._row_pivots.addEventListener("dragend",r.bind(this)),this._column_pivots.addEventListener("drop",i.bind(this)),this._column_pivots.addEventListener("dragend",r.bind(this)),this.setAttribute("settings",!0),this._show_config=!0,this._config_button.addEventListener("mousedown",this._toggle_config.bind(this)),this.hasAttribute("row-pivots")||this.setAttribute("row-pivots","[]"),this.hasAttribute("column-pivots")||this.setAttribute("column-pivots","[]"),this._filter_input.addEventListener("keyup",A.default.debounce(function(e){var n=t.getAttribute("filters"),r=(0,w.default)(t._get_view_filters());n!==r&&(t.setAttribute("filters",r),c.call(t))},200)),this._vis_selector.addEventListener("change",function(e){t.setAttribute("view",t._vis_selector.value),c.call(t)}),this.addEventListener("close",function(){console.info("Closing")});for(var e in j){var n=j[e].name||e;this._vis_selector.innerHTML+='<option value="'+e+'">'+n+"</option>"}if(this._modified=!1,this.getAttribute("data")){var o=this.getAttribute("data");try{o=JSON.parse(o)}catch(t){}a.bind(this)(o),this._modified=!0}this._toggle_config()}}})}).call(e,n(26))},function(t,e,n){t.exports=n(48)},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(49),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,s=Object.create(o.prototype),a=new h(r||[]);return s._invoke=u(t,n,a),s}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function c(t){function e(n,i,o,s){var a=r(t[n],t,i);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&_.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){c.value=t,o(c)},s)}s(a.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function u(t,e,n){var i=L;return function(o,s){if(i===O)throw new Error("Generator is already running");if(i===S){if("throw"===o)throw s;return v()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var c=l(a,n);if(c){if(c===T)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===L)throw i=S,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=O;var u=r(t,e,n);if("normal"===u.type){if(i=n.done?S:k,u.arg===T)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=S,n.method="throw",n.arg=u.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,l(t,e),"throw"===e.method))return T;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,T;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,T):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,T)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function d(t){if(t){var e=t[w];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(_.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:g,done:!0}}var g,m=Object.prototype,_=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",x=y.toStringTag||"@@toStringTag",A="object"==typeof t,E=e.regeneratorRuntime;if(E)return void(A&&(t.exports=E));E=e.regeneratorRuntime=A?t.exports:{},E.wrap=n;var L="suspendedStart",k="suspendedYield",O="executing",S="completed",T={},j={};j[w]=function(){return this};var M=Object.getPrototypeOf,C=M&&M(M(d([])));C&&C!==m&&_.call(C,w)&&(j=C);var P=s.prototype=i.prototype=Object.create(j);o.prototype=P.constructor=s,s.constructor=o,s[x]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(P),t},E.awrap=function(t){return{__await:t}},a(c.prototype),c.prototype[b]=function(){return this},E.AsyncIterator=c,E.async=function(t,e,r,i){var o=new c(n(t,e,r,i));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(P),P[x]="Generator",P[w]=function(){return this},P.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=d,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&_.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=_.call(i,"catchLoc"),a=_.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&_.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,T):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),T},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),T}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;p(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:d(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),T}}}(function(){return this}()||Function("return this")())},function(t,e,n){n(51),n(15),n(22),n(68),n(78),n(79),t.exports=n(2).Promise},function(t,e){},function(t,e,n){var r=n(16),i=n(17);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),c=r(n),u=a.length;return c<0||c>=u?t?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},function(t,e,n){t.exports=!n(8)&&!n(29)(function(){return 7!=Object.defineProperty(n(18)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){t.exports=n(4)},function(t,e,n){"use strict";var r=n(31),i=n(30),o=n(21),s={};n(4)(s,n(0)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(11),i=n(3),o=n(58);t.exports=n(8)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,c=0;a>c;)r.f(t,n=s[c++],e[n]);return t}},function(t,e,n){var r=n(59),i=n(35);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(12),i=n(19),o=n(61)(!1),s=n(20)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)n!=s&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~o(u,n)||u.push(n));return u}},function(t,e,n){var r=n(13);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(19),i=n(32),o=n(62);t.exports=function(t){return function(e,n,s){var a,c=r(e),u=i(c.length),l=o(s,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var r=n(16),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(12),i=n(64),o=n(20)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(17);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(66),i=n(67),o=n(5),s=n(19);t.exports=n(27)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r,i,o,s,a=n(28),c=n(1),u=n(9),l=n(23),f=n(6),p=n(7),h=n(10),d=n(69),v=n(70),g=n(38),m=n(39).set,_=n(74)(),y=n(24),w=n(40),b=n(41),x=c.TypeError,A=c.process,E=c.Promise,L="process"==l(A),k=function(){},O=i=y.f,S=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(0)("species")]=function(t){t(k,k)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),T=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},j=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){for(var r=t._v,i=1==t._s,o=0;n.length>o;)!function(e){var n,o,s=i?e.ok:e.fail,a=e.resolve,c=e.reject,u=e.domain;try{s?(i||(2==t._h&&P(t),t._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&u.exit()),n===e.promise?c(x("Promise-chain cycle")):(o=T(n))?o.call(n,a,c):a(n)):c(r)}catch(t){c(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&M(t)})}},M=function(t){m.call(c,function(){var e,n,r,i=t._v,o=C(t);if(o&&(e=w(function(){L?A.emit("unhandledRejection",i,t):(n=c.onunhandledrejection)?n({promise:t,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=L||C(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},C=function(t){return 1!==t._h&&0===(t._a||t._c).length},P=function(t){m.call(c,function(){var e;L?A.emit("rejectionHandled",t):(e=c.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},I=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(e=T(t))?_(function(){var r={_w:n,_d:!1};try{e.call(t,u(I,r,1),u(N,r,1))}catch(t){N.call(r,t)}}):(n._v=t,n._s=1,j(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};S||(E=function(t){d(this,E,"Promise","_h"),h(t),r.call(this);try{t(u(I,this,1),u(N,this,1))}catch(t){N.call(this,t)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n(75)(E.prototype,{then:function(t,e){var n=O(g(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=u(I,t,1),this.reject=u(N,t,1)},y.f=O=function(t){return t===E||t===s?new o(t):i(t)}),f(f.G+f.W+f.F*!S,{Promise:E}),n(21)(E,"Promise"),n(76)("Promise"),s=n(2).Promise,f(f.S+f.F*!S,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),f(f.S+f.F*(a||!S),"Promise",{resolve:function(t){return b(a&&this===s?E:this,t)}}),f(f.S+f.F*!(S&&n(77)(function(t){E.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=O(e),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,s=1;v(t,!1,function(t){var a=o++,c=!1;n.push(void 0),s++,e.resolve(t).then(function(t){c||(c=!0,n[a]=t,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=w(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(9),i=n(71),o=n(72),s=n(3),a=n(32),c=n(37),u={},l={},e=t.exports=function(t,e,n,f,p){var h,d,v,g,m=p?function(){return t}:c(t),_=r(n,f,e?2:1),y=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(h=a(t.length);h>y;y++)if((g=e?_(s(d=t[y])[0],d[1]):_(t[y]))===u||g===l)return g}else for(v=m.call(t);!(d=v.next()).done;)if((g=i(v,_,d.value,e))===u||g===l)return g};e.BREAK=u,e.RETURN=l},function(t,e,n){var r=n(3);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(5),i=n(0)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(1),i=n(39).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(13)(s);t.exports=function(){var t,e,n,u=function(){var r,i;for(c&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve();n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),n=function(){p.data=f=!f}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(4);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r=n(1),i=n(2),o=n(11),s=n(8),a=n(0)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(0)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(6),i=n(2),o=n(1),s=n(38),a=n(41);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(6),i=n(24),o=n(40);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(81),o=r(i),s=n(42),a=r(s);e.default=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,c=(0,a.default)(t);!(r=(s=c.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,o.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){t.exports={default:n(82),__esModule:!0}},function(t,e,n){n(22),n(15),t.exports=n(83)},function(t,e,n){var r=n(23),i=n(0)("iterator"),o=n(5);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){n(22),n(15),t.exports=n(85)},function(t,e,n){var r=n(3),i=n(37);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(14),i=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return function(){var e=t.apply(this,arguments);return new i.default(function(t,n){function r(o,s){try{var a=e[o](s),c=a.value}catch(t){return void n(t)}if(!a.done)return i.default.resolve(c).then(function(t){r("next",t)},function(t){r("throw",t)});t(c)}return r("next")})}}},function(t,e,n){t.exports={default:n(88),__esModule:!0}},function(t,e,n){var r=n(2),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){var r,i;(function(){function n(t){function e(e,n,r,i,o,s){for(;o>=0&&o<s;o+=t){var a=i?i[o]:o;r=n(r,e[a],a,e)}return r}return function(n,r,i,o){r=A(r,o,4);var s=!j(n)&&x.keys(n),a=(s||n).length,c=t>0?0:a-1;return arguments.length<3&&(i=n[s?s[c]:c],c+=t),e(n,r,i,s,c,a)}}function o(t){return function(e,n,r){n=E(n,r);for(var i=T(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(r,i,o){var s=0,a=T(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(d.call(r,s,a),x.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(r[o]===i)return o;return-1}}function a(t,e){var n=I.length,r=t.constructor,i=x.isFunction(r)&&r.prototype||f,o="constructor";for(x.has(t,o)&&!x.contains(e,o)&&e.push(o);n--;)(o=I[n])in t&&t[o]!==i[o]&&!x.contains(e,o)&&e.push(o)}var c=this,u=c._,l=Array.prototype,f=Object.prototype,p=Function.prototype,h=l.push,d=l.slice,v=f.toString,g=f.hasOwnProperty,m=Array.isArray,_=Object.keys,y=p.bind,w=Object.create,b=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};void 0!==t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var A=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}},E=function(t,e,n){return null==t?x.identity:x.isFunction(t)?A(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return E(t,e,1/0)};var L=function(t,e){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=t(o),a=s.length,c=0;c<a;c++){var u=s[c];e&&void 0!==n[u]||(n[u]=o[u])}return n}},k=function(t){if(!x.isObject(t))return{};if(w)return w(t);b.prototype=t;var e=new b;return b.prototype=null,e},O=function(t){return function(e){return null==e?void 0:e[t]}},S=Math.pow(2,53)-1,T=O("length"),j=function(t){var e=T(t);return"number"==typeof e&&e>=0&&e<=S};x.each=x.forEach=function(t,e,n){e=A(e,n);var r,i;if(j(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=x.keys(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t},x.map=x.collect=function(t,e,n){e=E(e,n);for(var r=!j(t)&&x.keys(t),i=(r||t).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=e(t[a],a,t)}return o},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(t,e,n){var r;if(void 0!==(r=j(t)?x.findIndex(t,e,n):x.findKey(t,e,n))&&-1!==r)return t[r]},x.filter=x.select=function(t,e,n){var r=[];return e=E(e,n),x.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},x.reject=function(t,e,n){return x.filter(t,x.negate(E(e)),n)},x.every=x.all=function(t,e,n){e=E(e,n);for(var r=!j(t)&&x.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(!e(t[s],s,t))return!1}return!0},x.some=x.any=function(t,e,n){e=E(e,n);for(var r=!j(t)&&x.keys(t),i=(r||t).length,o=0;o<i;o++){var s=r?r[o]:o;if(e(t[s],s,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,r){return j(t)||(t=x.values(t)),("number"!=typeof n||r)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=d.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var r,i,o=-1/0,s=-1/0;if(null==e&&null!=t){t=j(t)?t:x.values(t);for(var a=0,c=t.length;a<c;a++)(r=t[a])>o&&(o=r)}else e=E(e,n),x.each(t,function(t,n,r){((i=e(t,n,r))>s||i===-1/0&&o===-1/0)&&(o=t,s=i)});return o},x.min=function(t,e,n){var r,i,o=1/0,s=1/0;if(null==e&&null!=t){t=j(t)?t:x.values(t);for(var a=0,c=t.length;a<c;a++)(r=t[a])<o&&(o=r)}else e=E(e,n),x.each(t,function(t,n,r){((i=e(t,n,r))<s||i===1/0&&o===1/0)&&(o=t,s=i)});return o},x.shuffle=function(t){for(var e,n=j(t)?t:x.values(t),r=n.length,i=Array(r),o=0;o<r;o++)e=x.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},x.sample=function(t,e,n){return null==e||n?(j(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=E(e,n),x.pluck(x.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,r){var i={};return n=E(n,r),x.each(e,function(r,o){var s=n(r,o,e);t(i,r,s)}),i}};x.groupBy=M(function(t,e,n){x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=M(function(t,e,n){t[n]=e}),x.countBy=M(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?d.call(t):j(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:j(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=E(e,n);var r=[],i=[];return x.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},x.first=x.head=x.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:x.initial(t,t.length-e)},x.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e))},x.rest=x.tail=x.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var C=function(t,e,n,r){for(var i=[],o=0,s=r||0,a=T(t);s<a;s++){var c=t[s];if(j(c)&&(x.isArray(c)||x.isArguments(c))){e||(c=C(c,e,n));var u=0,l=c.length;for(i.length+=l;u<l;)i[o++]=c[u++]}else n||(i[o++]=c)}return i};x.flatten=function(t,e){return C(t,e,!1)},x.without=function(t){return x.difference(t,d.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){x.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=E(n,r));for(var i=[],o=[],s=0,a=T(t);s<a;s++){var c=t[s],u=n?n(c,s,t):c;e?(s&&o===u||i.push(c),o=u):n?x.contains(o,u)||(o.push(u),i.push(c)):x.contains(i,c)||i.push(c)}return i},x.union=function(){return x.uniq(C(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=T(t);r<i;r++){var o=t[r];if(!x.contains(e,o)){for(var s=1;s<n&&x.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},x.difference=function(t){var e=C(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,T).length||0,n=Array(e),r=0;r<e;r++)n[r]=x.pluck(t,r);return n},x.object=function(t,e){for(var n={},r=0,i=T(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(t,e,n,r){n=E(n,r,1);for(var i=n(e),o=0,s=T(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<i?o=a+1:s=a}return o},x.indexOf=s(1,x.findIndex,x.sortedIndex),x.lastIndexOf=s(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i};var P=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=k(t.prototype),s=t.apply(o,i);return x.isObject(s)?s:o};x.bind=function(t,e){if(y&&t.bind===y)return y.apply(t,d.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return P(t,r,e,this,n.concat(d.call(arguments)))};return r},x.partial=function(t){var e=d.call(arguments,1),n=function(){for(var r=0,i=e.length,o=Array(i),s=0;s<i;s++)o[s]=e[s]===x?arguments[r++]:e[s];for(;r<arguments.length;)o.push(arguments[r++]);return P(t,n,this,this,o)};return n},x.bindAll=function(t){var e,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(e=1;e<r;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return x.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},x.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:x.now(),s=null,o=t.apply(r,i),s||(r=i=null)};return function(){var u=x.now();a||!1!==n.leading||(a=u);var l=e-(u-a);return r=this,i=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=u,o=t.apply(r,i),s||(r=i=null)):s||!1===n.trailing||(s=setTimeout(c,l)),o}},x.debounce=function(t,e,n){var r,i,o,s,a,c=function(){var u=x.now()-s;u<e&&u>=0?r=setTimeout(c,e-u):(r=null,n||(a=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=x.now();var u=n&&!r;return r||(r=setTimeout(c,e)),u&&(a=t.apply(o,i),o=i=null),a}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},x.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},x.once=x.partial(x.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(_)return _(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return N&&a(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return N&&a(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r},x.mapObject=function(t,e,n){e=E(e,n);for(var r,i=x.keys(t),o=i.length,s={},a=0;a<o;a++)r=i[a],s[r]=e(t[r],r,t);return s},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=L(x.allKeys),x.extendOwn=x.assign=L(x.keys),x.findKey=function(t,e,n){e=E(e,n);for(var r,i=x.keys(t),o=0,s=i.length;o<s;o++)if(r=i[o],e(t[r],r,t))return r},x.pick=function(t,e,n){var r,i,o={},s=t;if(null==s)return o;x.isFunction(e)?(i=x.allKeys(s),r=A(e,n)):(i=C(arguments,!1,!1,1),r=function(t,e,n){return e in n},s=Object(s));for(var a=0,c=i.length;a<c;a++){var u=i[a],l=s[u];r(l,u,s)&&(o[u]=l)}return o},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var r=x.map(C(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(r,e)}}return x.pick(t,e,n)},x.defaults=L(x.allKeys,!0),x.create=function(t,e){var n=k(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var s=n[o];if(e[s]!==i[s]||!(s in i))return!1}return!0};var R=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=v.call(t);if(i!==v.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if((c=t.length)!==e.length)return!1;for(;c--;)if(!R(t[c],e[c],n,r))return!1}else{var u,l=x.keys(t);if(c=l.length,x.keys(e).length!==c)return!1;for(;c--;)if(u=l[c],!x.has(e,u)||!R(t[u],e[u],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(t,e){return R(t,e)},x.isEmpty=function(t){return null==t||(j(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length)},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=m||function(t){return"[object Array]"===v.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return v.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===v.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&g.call(t,e)},x.noConflict=function(){return c._=u,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=O,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var r=Array(Math.max(0,t));e=A(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=x.invert(G),F=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};x.escape=F(G),x.unescape=F(D),x.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),x.isFunction(r)?r.call(t):r};var U=0;x.uniqueId=function(t){var e=++U+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},J=/\\|'|\r|\n|\u2028|\u2029/g,z=function(t){return"\\"+B[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var r=RegExp([(e.escape||q).source,(e.interpolate||q).source,(e.evaluate||q).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,s,a){return o+=t.slice(i,a).replace(J,z),i=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,x)};return a.source="function("+(e.variable||"obj")+"){\n"+o+"}",a},x.chain=function(t){var e=x(t);return e._chain=!0,e};var H=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return h.apply(t,arguments),H(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=l[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],H(this,n)}}),x.each(["concat","join","slice"],function(t){var e=l[t];x.prototype[t]=function(){return H(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(i=function(){return x}.apply(e,r))&&(t.exports=i)}).call(this)},function(t,e,n){/*! mobile-drag-drop 2.1.0 | Copyright (c) 2017 Tim Ruffles | MIT License */
!function(t,n){n(e)}(0,function(t){"use strict";function e(){var t={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,touchEvents:"ontouchstart"in document.documentElement,userAgentSupportingNativeDnD:void 0},e=!!window.chrome||/chrome/i.test(navigator.userAgent);return t.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||e&&t.touchEvents),k&&Object.keys(t).forEach(function(t){}),t}function n(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}function r(t){if(t&&Object.keys(t).forEach(function(e){O[e]=t[e]}),!O.forceApply){var r=e();if(r.userAgentSupportingNativeDnD&&r.draggable&&r.dragEvents)return!1}return E=n(),O.holdToDrag?a("touchstart",x,!1):a("touchstart",i,!1),!0}function i(t){if(!L){var e=o(t);if(e)try{L=new I(t,O,e,s)}catch(e){throw s(O,t,3),e}}}function o(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)}function s(t,e,n){if(0===n&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}L=null}function a(t,e,n){void 0===n&&(n=!0),document.addEventListener(t,e,!!E&&{passive:n})}function c(t,e){document.removeEventListener(t,e)}function u(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function l(t){return t&&t.tagName}function f(t,e){for(var n=0;n<t.changedTouches.length;n++){if(t.changedTouches[n].identifier===e)return!0}return!1}function p(t,e,n,r,i,o,s){void 0===s&&(s=null);var a=e.changedTouches[0],c=new Event(n,{bubbles:!0,cancelable:r});c.dataTransfer=o,c.relatedTarget=s,c.screenX=a.screenX,c.screenY=a.screenY,c.clientX=a.clientX,c.clientY=a.clientY,c.pageX=a.pageX,c.pageY=a.pageY;var u=t.getBoundingClientRect();return c.offsetX=c.clientX-u.left,c.offsetY=c.clientY-u.top,c}function h(t,e,n){for(var r=[],i=[],o=0;o<e.touches.length;o++){var s=e.touches[o];r.push(s[t+"X"]),i.push(s[t+"Y"])}n.x=u(r),n.y=u(i)}function d(t,e){if(1===t.nodeType){for(var n=getComputedStyle(t),r=0;r<n.length;r++){var i=n[r];e.style.setProperty(i,n.getPropertyValue(i),n.getPropertyPriority(i))}e.style.pointerEvents="none",e.removeAttribute("id"),e.removeAttribute("class"),e.removeAttribute("draggable")}if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++)d(t.childNodes[r],e.childNodes[r])}function v(t){var e=t.cloneNode(!0);return d(t,e),e.style.position="absolute",e.style.left="0px",e.style.top="0px",e.style.zIndex="999999",e.classList.add(C),e.classList.add(N),e}function g(t){return j.map(function(e){var n=t.style[e+"transform"];return n&&"none"!==n?n.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})}function m(t,e,n,r,i){void 0===i&&(i=!0);var o=e.x,s=e.y;r&&(o+=r.x,s+=r.y),i&&(o-=parseInt(t.offsetWidth,10)/2,s-=parseInt(t.offsetHeight,10)/2);for(var a="translate3d("+o+"px,"+s+"px, 0)",c=0;c<j.length;c++){var u=j[c]+"transform";t.style[u]=a+" "+n[c]}}function _(t,e,n,r){var i=getComputedStyle(t);if("hidden"===i.visibility||"none"===i.display)return void r();e.classList.add(P);var o=getComputedStyle(e),s=parseFloat(o.transitionDuration);if(isNaN(s)||0===s)return void r();var a=t.getBoundingClientRect(),c={x:a.left,y:a.top};c.x+=document.body.scrollLeft||document.documentElement.scrollLeft,c.y+=document.body.scrollTop||document.documentElement.scrollTop,c.x-=parseInt(i.marginLeft,10),c.y-=parseInt(i.marginTop,10);var u=parseFloat(o.transitionDelay),l=Math.round(1e3*(s+u));m(e,c,n,void 0,!1),setTimeout(r,l)}function y(t,e){return t?t===S[0]?T[0]:0===t.indexOf(S[1])||t===S[7]?T[1]:0===t.indexOf(S[4])?T[3]:t===S[6]?T[2]:T[1]:3===e.nodeType&&"A"===e.tagName?T[3]:T[1]}function w(t,e,n,r,i,o,s){if(void 0===o&&(o=!0),void 0===s&&(s=null),k){var a=M+"debug",c=M+"event-target",u=M+"event-related-target";e.classList.add(a),e.classList.add(c),s&&(s.classList.add(a),s.classList.add(u))}var l=p(e,n,t,o,document.defaultView,i,s),f=!e.dispatchEvent(l);return r.g=0,k&&(e.classList.remove(c),s&&s.classList.remove(u)),f}function b(t,e){if(!t||t===S[7])return e;if(e===T[1]){if(0===t.indexOf(T[1]))return T[1]}else if(e===T[3]){if(0===t.indexOf(T[3])||t.indexOf("Link")>-1)return T[3]}else if(e===T[2]&&(0===t.indexOf(T[2])||t.indexOf("Move")>-1))return T[2];return T[0]}function x(t){var e=t.target,n=function(){s.off(),a.off(),c.off(),i(t)},r=function(){s.off(),a.off(),c.off(),clearTimeout(o)},o=setTimeout(n,O.holdToDrag),s=A(e,"touchend",r,this),a=A(e,"touchcancel",r,this),c=A(window,"scroll",r,this)}function A(t,e,n,r){return r&&(n=n.bind(r)),t.addEventListener(e,n),{off:function(){return t.removeEventListener(e,n)}}}var E,L,k=!1,O={iterationInterval:150},S=["none","copy","copyLink","copyMove","link","linkMove","move","all"],T=["none","copy","move","link"],j=["","-webkit-"],M="dnd-poly-",C=M+"drag-image",P=M+"snapback",N=M+"icon",I=function(){function t(t,e,n,r){this.h=t,this.i=e,this.j=n,this.k=r,this.l=0,this.m=null,this.o=null,this.p=t,this.q=t.changedTouches[0],this.s=this.t.bind(this),this.u=this.v.bind(this),a("touchmove",this.s,!1),a("touchend",this.u,!1),a("touchcancel",this.u,!1)}return t.prototype.A=function(){var t=this;this.l=1,this.B=T[0],this.C={D:{},F:void 0,g:3,G:[]},this.H={x:null,y:null},this.I={x:null,y:null};var e=this.j;if(this.J=new R(this.C,function(n,r,i){e=n,"number"!=typeof r&&"number"!=typeof i||(t.K={x:r||0,y:i||0})}),this.C.g=2,this.J.dropEffect=T[0],w("dragstart",this.j,this.p,this.C,this.J))return this.l=3,this.L(),!1;if(h("page",this.p,this.I),this.M=v(e),this.N=g(this.M),!this.K)if(this.i.dragImageOffset)this.K={x:this.i.dragImageOffset.x,y:this.i.dragImageOffset.y};else if(this.i.dragImageCenterOnTouch){var n=getComputedStyle(e);this.K={x:0-parseInt(n.marginLeft,10),y:0-parseInt(n.marginTop,10)}}else{var r=e.getBoundingClientRect(),n=getComputedStyle(e);this.K={x:r.left-this.q.clientX-parseInt(n.marginLeft,10)+r.width/2,y:r.top-this.q.clientY-parseInt(n.marginTop,10)+r.height/2}}return m(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch),document.body.appendChild(this.M),this.O=setInterval(function(){t.P||(t.P=!0,t.R(),t.P=!1)},this.i.iterationInterval),!0},t.prototype.L=function(){this.O&&(clearInterval(this.O),this.O=null),c("touchmove",this.s),c("touchend",this.u),c("touchcancel",this.u),this.M&&(this.M.parentNode.removeChild(this.M),this.M=null),this.k(this.i,this.p,this.l)},t.prototype.t=function(t){var e=this;if(!1!==f(t,this.q.identifier)){if(this.p=t,0===this.l){var n=void 0;if(this.i.dragStartConditionOverride)try{n=this.i.dragStartConditionOverride(t)}catch(t){n=!1}else n=1===t.touches.length;return n?void(!0===this.A()&&(this.h.preventDefault(),t.preventDefault())):void this.L()}if(t.preventDefault(),h("client",t,this.H),h("page",t,this.I),this.i.dragImageTranslateOverride)try{var r=!1;if(this.i.dragImageTranslateOverride(t,{x:this.H.x,y:this.H.y},this.m,function(t,n){e.M&&(r=!0,e.H.x+=t,e.H.y+=n,e.I.x+=t,e.I.y+=n,m(e.M,e.I,e.N,e.K,e.i.dragImageCenterOnTouch))}),r)return}catch(t){}m(this.M,this.I,this.N,this.K,this.i.dragImageCenterOnTouch)}},t.prototype.v=function(t){if(!1!==f(t,this.q.identifier)){if(this.i.dragImageTranslateOverride)try{this.i.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}if(0===this.l)return void this.L();t.preventDefault(),this.l="touchcancel"===t.type?3:2}},t.prototype.R=function(){var t=this;if(k)var e=M+"debug",n=M+"immediate-user-selection",r=M+"current-drop-target";var i=this.B;this.C.g=3,this.J.dropEffect=T[0];var o=w("drag",this.j,this.p,this.C,this.J);if(o&&(this.B=T[0]),o||2===this.l||3===this.l){return this.S(this.l)?void _(this.j,this.M,this.N,function(){t.T()}):void this.T()}var s=document.elementFromPoint(this.H.x,this.H.y),a=this.o;s!==this.m&&s!==this.o&&(k&&(this.m&&this.m.classList.remove(n),s&&(s.classList.add(e),s.classList.add(n))),this.m=s,null!==this.o&&(this.C.g=3,this.J.dropEffect=T[0],w("dragexit",this.o,this.p,this.C,this.J,!1)),null===this.m?this.o=this.m:(this.C.g=3,this.J.dropEffect=y(this.C.F,this.j),w("dragenter",this.m,this.p,this.C,this.J)?(this.o=this.m,this.B=b(this.J.effectAllowed,this.J.dropEffect)):this.m!==document.body&&(this.o=document.body))),a!==this.o&&l(a)&&(k&&a.classList.remove(r),this.C.g=3,this.J.dropEffect=T[0],w("dragleave",a,this.p,this.C,this.J,!1,this.o)),l(this.o)&&(k&&(this.o.classList.add(e),this.o.classList.add(r)),this.C.g=3,this.J.dropEffect=y(this.C.F,this.j),!1===w("dragover",this.o,this.p,this.C,this.J)?this.B=T[0]:this.B=b(this.J.effectAllowed,this.J.dropEffect)),i!==this.B&&this.M.classList.remove(M+i);var c=M+this.B;!1===this.M.classList.contains(c)&&this.M.classList.add(c)},t.prototype.S=function(t){if(k){var e=M+"immediate-user-selection",n=M+"current-drop-target";this.o&&this.o.classList.remove(n),this.m&&this.m.classList.remove(e)}var r=this.B===T[0]||null===this.o||3===t;return r?l(this.o)&&(this.C.g=3,this.J.dropEffect=T[0],w("dragleave",this.o,this.p,this.C,this.J,!1)):l(this.o)&&(this.C.g=1,this.J.dropEffect=this.B,!0===w("drop",this.o,this.p,this.C,this.J)?this.B=this.J.dropEffect:this.B=T[0]),r},t.prototype.T=function(){this.C.g=3,this.J.dropEffect=this.B,w("dragend",this.j,this.p,this.C,this.J,!1),this.l=2,this.L()},t}(),R=function(){function t(t,e){this.U=t,this.V=e,this.W=T[0]}return Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.U.g)return Object.freeze(this.U.G)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.U.g){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.U.D[t]=e,-1===this.U.G.indexOf(t)&&this.U.G.push(t)}},t.prototype.getData=function(t){if(1===this.U.g||2===this.U.g)return this.U.D[t]||""},t.prototype.clearData=function(t){if(2===this.U.g){if(t&&this.U.D[t]){delete this.U.D[t];var e=this.U.G.indexOf(t);return void(e>-1&&this.U.G.splice(e,1))}this.U.D={},this.U.G=[]}},t.prototype.setDragImage=function(t,e,n){2===this.U.g&&this.V(t,e,n)},Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.U.F},set:function(t){2===this.U.g&&S.indexOf(t)>-1&&(this.U.F=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.W},set:function(t){0!==this.U.g&&S.indexOf(t)>-1&&(this.W=t)},enumerable:!0,configurable:!0}),t}();t.polyfill=r,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){t.exports={default:n(92),__esModule:!0}},function(t,e,n){n(93);var r=n(2).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(6);r(r.S,"Object",{create:n(31)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["any","avg","count","distinct count","dominant","first","last","high","low","mean","mean by count","median","pct sum parent","pct sum grand total","sum","sum abs","sum not null","unique"],i=["any","count","distinct count","distinct leaf","dominant","first","last","mean by count","unique"],o=["any","count","distinct count","distinct leaf","dominant","first","last","mean by count","unique","and","or"];e.TYPE_AGGREGATES={string:i,float:r,integer:r,boolean:o,date:i},e.AGGREGATE_DEFAULTS={string:"distinct count",float:"sum",integer:"sum",boolean:"distinct count",date:"distinct count"}},function(t,e){t.exports='\x3c!--\r\n   \r\n   Copyright (c) 2017, the Perspective Authors.\r\n   \r\n   This file is part of the Perspective library, distributed under the terms of\r\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n\r\n--\x3e\r\n\r\n<template id="perspective-viewer">\r\n\r\n    <div id="app">\r\n        <div id=\'side_panel\' class="column fixed noselect">\r\n            <div>\r\n                <div style="width:25px;margin-left:5px"></div>\r\n                <select id="vis_selector">\r\n                </select>\r\n            </div>\r\n            <ul id=\'column_names\'></ul>\r\n        </div>\r\n        <div class="column noselect">\r\n            <div id=\'top_panel\'>\r\n                <div class="rrow">\r\n                    <ul id="row_pivots" name="Row Pivots" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="row_pivots">Row Pivots</label>\r\n                    </ul>\r\n                </div>\r\n                <span class="rrow centered" style="min-width:5px;max-width:5px;flex-grow:0;color:#999;font-family:Arial;font-size:12px">&#x2715;</span>\r\n                <div class="rrow">\r\n                    <ul id="column_pivots" name="Column Pivots" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="column_pivots">Column Pivots</label>\r\n                    </ul>\r\n                </div>\r\n                <div class="rrow">\r\n                    <ul id="sort" name="Sort" ondragover="allowDrop(event)" ondragleave="disallowDrop(event)" ondragenter="dragEnter(event)">\r\n                        <label for="sort">Sort</label>\r\n                    </ul>\r\n                </div>\r\n                <div class="rrow" style=\'flex-grow:3\'>\r\n                    <input id="filter_input" placeholder="Filter"></input>\r\n                </div>\r\n            </div>\r\n            <div id="pivot_chart"></div>\r\n        </div>\r\n\r\n        <div id="config_button" class="noselect">&#x1f527;</div>\r\n\r\n        <div id=\'drop_target\' ondragover="allowDrop(event)">\r\n            <div id=\'drop_target_inner\'>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n'},function(t,e,n){var r=n(97);"string"==typeof r&&(r=[[t.i,r,""]]);var i={};i.transform=void 0;n(45)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(44)(void 0),e.push([t.i,'/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\nperspective-viewer:hover #config_button {\n  background: radial-gradient(ellipse at center, #ffffff 0%, rgba(255, 255, 255, 0.01) 100%);\n  opacity: 1;\n}\n[settings=true] #config_button {\n  background: none !important;\n  opacity: 1 !important;\n}\n[settings=true] #app {\n  border-top: 1px solid #ccc;\n}\nperspective-viewer {\n  font-family: Arial;\n}\nperspective-viewer * {\n  box-sizing: border-box;\n  line-height: 1.42857143;\n}\nperspective-viewer .noselect {\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently supported by Chrome and Opera */\n}\nperspective-viewer svg text {\n  font-family: Arial !important;\n}\nperspective-viewer input.error {\n  color: red !important;\n}\nperspective-viewer #app {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\nperspective-viewer svg text {\n  font-family: Arial !important;\n}\nperspective-viewer svg .highcharts-axis-title,\nperspective-viewer svg .highcharts-axis-title {\n  font-family: Arial !important;\n}\nperspective-viewer svg .highcharts-legend-box {\n  fill: #ffffff;\n  opacity: 0.85;\n}\nperspective-viewer .chart {\n  flex-grow: 1;\n  height: calc(100% - 10px);\n  width: calc(100% - 20px);\n  position: absolute;\n  margin-right: 20px;\n  margin-top: 10px;\n}\nperspective-viewer #pivot_chart {\n  position: relative;\n  display: flex;\n  flex-grow: 1;\n  margin: 0px;\n  background-color: white;\n}\nperspective-viewer .config {\n  display: flex;\n}\nperspective-viewer #row_pivots li,\nperspective-viewer #column_pivots li,\nperspective-viewer #sort li {\n  display: inline;\n}\nperspective-viewer ul {\n  min-height: 20px;\n  position: static !important;\n}\nperspective-viewer #column_names {\n  list-style: none;\n  padding: 5px;\n  width: 100%;\n  border: none !important;\n  flex-grow: 1;\n  margin-top: 8px;\n  overflow-y: auto;\n}\nperspective-viewer .column {\n  display: flex;\n  list-style: none;\n  flex-direction: column;\n  flex-grow: 1;\n}\nperspective-viewer .rrow {\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  max-width: 400px;\n  height: 24px;\n  list-style: none;\n  min-width: 140px;\n  margin: 5px 10px 0px 0px;\n}\nperspective-viewer .rrow > * {\n  height: 100%;\n}\nperspective-viewer #top_panel > .rrow > * {\n  width: 100%;\n}\nperspective-viewer .rrow li {\n  white-space: nowrap;\n}\nperspective-viewer .fixed {\n  max-width: 180px;\n}\nperspective-viewer #top_panel perspective-row + perspective-row:before {\n  content: ",";\n  padding: 0px 10px 0px 0px;\n}\nperspective-viewer label {\n  white-space: nowrap;\n  display: inline-block;\n  vertical-align: middle;\n}\nperspective-viewer #drop_target {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  background: white;\n  padding: 30px;\n}\nperspective-viewer #drop_target_inner {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nperspective-viewer #drop_target_inner h3 {\n  color: #aaa;\n  font-weight: 300;\n}\nperspective-viewer #config_button {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 32px;\n  height: 44px;\n  font-weight: normal;\n  font-family: Arial;\n  font-size: 16px;\n  color: #999;\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: opacity 0.3s;\n}\nperspective-viewer ul label {\n  color: #ccc;\n  font-weight: normal;\n  margin-bottom: 0px;\n  margin-left: 0px;\n}\nperspective-viewer ul {\n  padding: 0px 10px 0px 10px;\n  margin: 0;\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  height: 30px;\n  font-size: 12px;\n}\nperspective-viewer select {\n  height: 24px;\n  padding-left: 6px;\n  font-size: 12px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  border-radius: 0;\n  background-color: white;\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n}\nperspective-viewer select:focus {\n  outline: none;\n}\nperspective-viewer input {\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  padding: 0 10px 0 10px;\n}\nperspective-viewer input::placeholder {\n  color: #ccc;\n}\nperspective-viewer rect {\n  opacity: 0.5;\n}\nperspective-viewer path,\nperspective-viewer circle {\n  opacity: 0.8;\n}\nperspective-viewer option[value=""] {\n  color: white !important;\n}\nperspective-viewer .centered {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\nperspective-viewer select:focus {\n  color: #000 !important;\n}\nperspective-viewer #top_panel {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  padding-bottom: 10px;\n  padding-top: 5px;\n  max-width: 1000px;\n}\nperspective-viewer #top_panel ul {\n  padding-top: 3px;\n}\nperspective-viewer #app {\n  background-color: #eee;\n}\nperspective-viewer #top_panel ul {\n  background-color: white;\n}\nperspective-viewer #side_panel > div {\n  display: flex;\n}\nperspective-viewer #vis_selector {\n  flex-grow: 1;\n  margin-top: 5px;\n  margin-right: 10px;\n}\nperspective-viewer ::-webkit-scrollbar,\nperspective-viewer ::shadow ::-webkit-scrollbar {\n  width: 12px;\n}\nperspective-viewer ::-webkit-scrollbar-thumb,\nperspective-viewer ::shadow ::-webkit-scrollbar-thumb {\n  background: #ccc;\n}\nperspective-viewer ::-webkit-scrollbar-track,\nperspective-viewer ::shadow ::-webkit-scrollbar-track {\n  background: none;\n}\n',""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(i))return t;var o;return o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(t,e,n){"use strict";(function(t){function e(t){return t&&t.__esModule?t:{default:t}}var r=n(25),i=n(43),o=e(i),s=n(100),a=e(s);n(101),t.dragEnter=function(t){t.preventDefault()},t.allowDrop=function(t){t.preventDefault(),t.currentTarget.classList.add("dropping")},t.disallowDrop=function(t){t.currentTarget.classList.remove("dropping")},(0,r.registerElement)(a.default,{name:{set:function(){this.querySelector("#name").innerHTML=this.getAttribute("name")}},type:{set:function(){var t=this.querySelector("#name"),e=this.getAttribute("type");t.classList.add(e);var n=this.querySelector("#column_aggregate");switch(e){case"float":case"integer":n.innerHTML=o.default.TYPE_AGGREGATES.float.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("");break;case"boolean":n.innerHTML=o.default.TYPE_AGGREGATES.boolean.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("");break;case"date":case"string":n.innerHTML=o.default.TYPE_AGGREGATES.string.map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("")}this.hasAttribute("aggregate")||this.setAttribute("aggregate",o.default.AGGREGATE_DEFAULTS[e])}},aggregate:{set:function(){var t=this.querySelector("#column_aggregate"),e=this.getAttribute("aggregate");t.value!==e&&(t.value=e||o.default.AGGREGATE_DEFAULTS[type])}},attachedCallback:{value:function(){var t=this,e=this.querySelector(".row_draggable");e.addEventListener("dragstart",function(e){e.dataTransfer.setData("text",t.getAttribute("name")),t.dispatchEvent(new CustomEvent("row-drag"))}),e.addEventListener("dragend",function(e){e.currentTarget.classList.remove("dropping"),t.dispatchEvent(new CustomEvent("row-dragend"))}),this.querySelector(".is_visible").addEventListener("mousedown",function(e){return t.dispatchEvent(new CustomEvent("visibility-clicked",{detail:e}))}),this.querySelector("#column_aggregate").addEventListener("change",function(e){var n=t.querySelector("#column_aggregate");t.setAttribute("aggregate",n.value),t.dispatchEvent(new CustomEvent("aggregate-selected",{detail:e}))})}}})}).call(e,n(26))},function(t,e){t.exports='\x3c!--\r\n   \r\n   Copyright (c) 2017, the Perspective Authors.\r\n   \r\n   This file is part of the Perspective library, distributed under the terms of\r\n   the Apache License 2.0.  The full license can be found in the LICENSE file.\r\n\r\n--\x3e\r\n\r\n<template id="perspective-row">\r\n    <li id="psp_row">\r\n        <span class=\'is_visible\'></span>\r\n        <div draggable=\'true\' class="row_draggable">\r\n            <span id=\'name\'></span>\r\n            <span id="sort_order"></span>\r\n            <select id="column_aggregate" class="string">\r\n            </select>\r\n        </div>\r\n    </li>\r\n</template>'},function(t,e,n){var r=n(102);"string"==typeof r&&(r=[[t.i,r,""]]);var i={};i.transform=void 0;n(45)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(44)(void 0),e.push([t.i,'/******************************************************************************\n *\n * Copyright (c) 2017, the Perspective Authors.\n *\n * This file is part of the Perspective library, distributed under the terms of\n * the Apache License 2.0.  The full license can be found in the LICENSE file.\n *\n */\n#top_panel perspective-row {\n  display: inline-block;\n}\nperspective-viewer.dragging #top_panel ul {\n  border: 1px solid #1078d1 !important;\n  margin-top: -2px;\n  margin-left: -1px;\n}\nperspective-viewer.dragging #top_panel ul.dropping {\n  background-color: #f0f0ff !important;\n}\nperspective-row {\n  display: block;\n}\nperspective-viewer ul {\n  transition: background-color 0.2s, border-color 0.2s;\n}\nperspective-row li {\n  color: #333333;\n  margin-bottom: 2px;\n  margin-right: 5px;\n  display: flex;\n  overflow: hidden;\n  align-items: center;\n  transition: margin-right 0.2s;\n  width: auto !important;\n  height: auto !important;\n  float: none !important;\n}\nperspective-row li:hover {\n  margin-right: 2px;\n}\n#column_names perspective-row div {\n  color: #333333;\n  padding: 2px;\n  font-size: 12px;\n  flex-grow: 1;\n  transition: margin 0.2s, padding 0.2s;\n}\n#column_names perspective-row div:hover {\n  margin-left: -3px;\n  padding-left: 5px;\n}\n#column_names perspective-row:hover div {\n  margin-left: -3px;\n  padding-left: 5px;\n}\n#column_names perspective-row:not(.off) div {\n  border: 1px solid #ccc;\n  border-top-width: 0px;\n  border-left-width: 0px;\n  background-color: white;\n}\n#column_names perspective-row .is_visible {\n  width: 20px;\n  min-width: 20px;\n  margin-left: 5px;\n  cursor: pointer;\n  color: #999;\n  font-size: 14px;\n}\n#column_names perspective-row.off .is_visible::before {\n  content: "\\25CB";\n}\n#column_names perspective-row .is_visible::before {\n  content: "\\25CF";\n}\nperspective-row #sort_order {\n  display: none;\n}\n#sort perspective-row #sort_order {\n  display: inline-block;\n}\n#side_panel {\n  padding-top: 5px;\n}\n#side_panel perspective-row .integer::before,\n#side_panel perspective-row .float::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "123";\n  color: #016bc6;\n}\n#side_panel perspective-row .string::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "abc";\n  color: #fe9292;\n}\n#side_panel perspective-row .boolean::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "t/f";\n  color: #999999;\n}\n#side_panel perspective-row .date::before {\n  position: relative;\n  display: inline-block;\n  padding-left: 5px;\n  padding-right: 5px;\n  min-width: 18px;\n  font-family: monospace;\n  content: "mdy";\n  color: #999999;\n}\nperspective-row #column_aggregate {\n  display: none;\n  font-size: 10px;\n  font-family: Arial;\n  width: 90px;\n  height: 20px;\n}\n#column_names perspective-row span#name {\n  width: 100%;\n  white-space: nowrap;\n}\n#top_panel perspective-row .row_draggable {\n  display: inline-block !important;\n}\nperspective-row .row_draggable {\n  display: flex;\n  height: 21px;\n  flex-direction: column;\n}\nperspective-row .row_draggable select {\n  margin-left: 22px;\n  border: none;\n}\nperspective-row .row_draggable select:focus {\n  outline: none;\n}\nperspective-viewer[view=scatter] #column_names .off .is_visible::before,\nperspective-viewer[view=line] #column_names .off .is_visible::before,\nperspective-viewer[view=line] #column_names .off .is_visible::before {\n  content: "\\25CB";\n}\nperspective-viewer[view=scatter] #column_names .visible_1 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_1 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_1 .is_visible::before {\n  font-family: Arial;\n  font-weight: 600;\n  font-size: 12px;\n  content: "X";\n}\nperspective-viewer[view=scatter] #column_names .visible_2 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_2 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_2 .is_visible::before {\n  font-family: Arial;\n  font-weight: 600;\n  font-size: 12px;\n  content: "Y";\n}\nperspective-viewer[view=scatter] #column_names .visible_3 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_3 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_3 .is_visible::before {\n  font-family: Arial;\n  font-weight: 600;\n  font-size: 12px;\n  content: "C";\n}\nperspective-viewer[view=scatter] #column_names .visible_4 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_4 .is_visible::before,\nperspective-viewer[view=line] #column_names .visible_4 .is_visible::before {\n  font-family: Arial;\n  font-weight: 600;\n  font-size: 12px;\n  content: "S";\n}\nperspective-viewer:not([row-pivots=\'[]\']) #column_names perspective-row:not(.off) #column_aggregate,\nperspective-viewer:not([column-pivots=\'[]\']) #column_names perspective-row:not(.off) #column_aggregate {\n  display: inline-block;\n}\nperspective-viewer:not([row-pivots=\'[]\']) #column_names perspective-row .row_draggable,\nperspective-viewer:not([column-pivots=\'[]\']) #column_names perspective-row .row_draggable {\n  height: 41px;\n}\nperspective-viewer:not([row-pivots=\'[]\']) #column_names perspective-row.off .row_draggable,\nperspective-viewer:not([column-pivots=\'[]\']) #column_names perspective-row.off .row_draggable {\n  height: 21px;\n}\n',""])}])});
//# sourceMappingURL=perspective.view.js.map